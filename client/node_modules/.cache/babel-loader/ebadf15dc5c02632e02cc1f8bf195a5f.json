{"ast":null,"code":"var _jsxFileName = \"/Users/nat/nology/non-coursework/nats-university/nats-university/src/components/StudentForm/StudentForm.jsx\";\nimport { Formik, Form } from \"formik\";\nimport { Box, Button } from \"@mui/material\";\nimport * as Yup from \"yup\";\nimport React from 'react';\nimport { navigate } from \"@reach/router\";\nimport FormField from \"./FormField\"; // import SubjectFormField from \"./SubjectFormField\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst StudentForm = _ref => {\n  let {\n    initialValues,\n    handleSubmit,\n    typeOfForm,\n    studentId\n  } = _ref;\n  const validationSchema = Yup.object().shape({\n    firstName: Yup.string().required(),\n    lastName: Yup.string().required(),\n    age: Yup.number().required().min(0).max(100),\n    // subject: Yup.string().required(),\n    email: Yup.string().email().required()\n  });\n\n  const refreshPage = () => {\n    window.location.reload();\n  };\n\n  const deleteStudent = async () => {\n    try {\n      const res = await fetch(`http://localhost:4000/api/students/${studentId}`, {\n        method: 'DELETE'\n      });\n\n      if (!res.ok) {\n        throw res;\n      }\n\n      if (res) {\n        navigate(`/`);\n      }\n    } catch (err) {\n      return {\n        error: err\n      };\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: initialValues,\n    onSubmit: handleSubmit,\n    validationSchema: validationSchema,\n    children: _ref2 => {\n      let {\n        isSubmitting\n      } = _ref2;\n      return /*#__PURE__*/_jsxDEV(Form, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            position: \"relative\",\n            top: \"150px\",\n            display: \"flex\",\n            flexDirection: \"column\"\n          },\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(FormField, {\n              name: \"firstName\",\n              label: \"First Name\",\n              helpMessage: \"Please enter first name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(FormField, {\n              name: \"lastName\",\n              label: \"Last Name\",\n              helpMessage: \"Please enter last name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(FormField, {\n              name: \"age\",\n              label: \"Age\",\n              helpMessage: \"Please enter age as a number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(SubjectFormField, {\n              name: \"subjects\",\n              label: \"Subjects\",\n              helpMessage: \"Please select at least one subject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(FormField, {\n              name: \"email\",\n              label: \"Email\",\n              helpMessage: \"Please enter a valid email address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              sx: {\n                mr: 1,\n                mb: 1\n              },\n              type: \"submit\",\n              disabled: isSubmitting,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              onClick: refreshPage,\n              children: \"Reset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this), typeOfForm === \"Existing Student\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: deleteStudent,\n              variant: \"outlined\",\n              color: \"error\",\n              sx: {\n                mr: 1\n              },\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 58\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n\n_c = StudentForm;\nexport default StudentForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"StudentForm\");","map":{"version":3,"sources":["/Users/nat/nology/non-coursework/nats-university/nats-university/src/components/StudentForm/StudentForm.jsx"],"names":["Formik","Form","Box","Button","Yup","React","navigate","FormField","StudentForm","initialValues","handleSubmit","typeOfForm","studentId","validationSchema","object","shape","firstName","string","required","lastName","age","number","min","max","email","refreshPage","window","location","reload","deleteStudent","res","fetch","method","ok","err","error","isSubmitting","position","top","display","flexDirection","mr","mb"],"mappings":"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","sourcesContent":["import { Formik, Form } from \"formik\";\nimport { Box, Button } from \"@mui/material\";\nimport * as Yup from \"yup\";\nimport React from 'react';\nimport { navigate } from \"@reach/router\";\n\nimport FormField from \"./FormField\";\n// import SubjectFormField from \"./SubjectFormField\";\n\nconst StudentForm = ({initialValues, handleSubmit, typeOfForm, studentId}) => {\n\nconst validationSchema = Yup.object().shape({\n    firstName: Yup.string().required(),\n    lastName: Yup.string().required(),\n    age: Yup.number().required().min(0).max(100),\n    // subject: Yup.string().required(),\n    email: Yup.string().email().required(),\n    });\n\nconst refreshPage = () => {\n    window.location.reload()\n}\n\nconst deleteStudent = async () => {\n    try {\n        const res = await fetch(`http://localhost:4000/api/students/${studentId}`, { method: 'DELETE' });\n        if (!res.ok) {\n          throw res;\n        }\n        if (res) {\n         navigate(`/`)\n        }\n      } catch (err) {\n        return { error: err };\n      }\n}\n\n    return (\n        <Formik initialValues={initialValues}\n        onSubmit={handleSubmit}\n        validationSchema={validationSchema}\n        > \n        {({isSubmitting}) => (\n            <Form>\n                <Box sx={{position: \"relative\", top: \"150px\", display:\"flex\", flexDirection:\"column\"}} spacing={2}>\n                    <div>\n                    <FormField name=\"firstName\" label=\"First Name\" helpMessage=\"Please enter first name\"/>\n                    <FormField name=\"lastName\" label=\"Last Name\" helpMessage=\"Please enter last name\"/>\n                    </div>\n                    <div>\n                    <FormField name=\"age\" label=\"Age\" helpMessage=\"Please enter age as a number\"/>\n                    </div>\n                    <div>\n                    <SubjectFormField name=\"subjects\" label=\"Subjects\" helpMessage=\"Please select at least one subject\"/>\n                    </div>\n                    {/* <div>\n                    {subjects && subjects.map((s, i) => <FormField key={i} name={s} label={`Subject ${i+1}`} helpMessage={\"Help Message\"}/>) }\n                    </div> */}\n                    <div>\n                    <FormField name=\"email\" label=\"Email\" helpMessage=\"Please enter a valid email address\"/>\n                    </div>\n                    <div>\n                    <Button variant=\"contained\" sx={{mr: 1, mb: 1}} type=\"submit\" disabled={isSubmitting}>Submit</Button>\n                    <Button variant=\"outlined\" onClick={refreshPage}>Reset</Button>\n                    </div>\n                    {typeOfForm === \"Existing Student\" ? <div>\n                    <Button onClick={deleteStudent} variant=\"outlined\" color=\"error\" sx={{mr: 1}}>Delete</Button>\n                    </div> :\n                    null}\n                </Box>\n            </Form>\n        )} \n        </Formik>\n    )\n}\n\nexport default StudentForm\n"]},"metadata":{},"sourceType":"module"}