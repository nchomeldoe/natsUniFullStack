{"ast":null,"code":"var _jsxFileName = \"/Users/nat/nology/non-coursework/natsUniFullStack/client/src/components/NewStudent/NewStudent.jsx\";\nimport React from \"react\";\nimport { Container, Typography, Stack } from \"@mui/material\";\nimport { navigate } from \"@reach/router\";\nimport StudentForm from \"../StudentForm/StudentForm\";\nimport SubjectFormField from \"../StudentForm/SubjectFormField\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst NewStudent = () => {\n  const initialValues = {\n    firstName: \"\",\n    lastName: \"\",\n    age: \"\",\n    email: \"\",\n    subjects: []\n  };\n\n  const handleSubmit = async values => {\n    console.log(\"POST:\", values);\n\n    try {\n      const res = await fetch(`http://localhost:4000/api/students/`, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(values)\n      });\n\n      if (!res.ok) {\n        throw res;\n      }\n\n      console.log(\"res\", res);\n\n      if (res) {\n        navigate(`/`);\n      }\n    } catch (err) {\n      console.err(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      children: [/*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"column\",\n        spacing: 2,\n        sx: {\n          position: \"relative\",\n          top: \"100px\",\n          alignItems: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          children: \"New student\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StudentForm, {\n        initialValues: initialValues,\n        handleSubmit: handleSubmit,\n        typeOfForm: \"New Student\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_c = NewStudent;\nexport default NewStudent;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewStudent\");","map":{"version":3,"sources":["/Users/nat/nology/non-coursework/natsUniFullStack/client/src/components/NewStudent/NewStudent.jsx"],"names":["React","Container","Typography","Stack","navigate","StudentForm","SubjectFormField","NewStudent","initialValues","firstName","lastName","age","email","subjects","handleSubmit","values","console","log","res","fetch","method","headers","Accept","body","JSON","stringify","ok","err","position","top","alignItems"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,UAApB,EAAgCC,KAAhC,QAA6C,eAA7C;AACA,SAASC,QAAT,QAAyB,eAAzB;AAEA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;;;;AAEA,MAAMC,UAAU,GAAG,MAAM;AACvB,QAAMC,aAAa,GAAG;AACpBC,IAAAA,SAAS,EAAE,EADS;AAEpBC,IAAAA,QAAQ,EAAE,EAFU;AAGpBC,IAAAA,GAAG,EAAE,EAHe;AAIpBC,IAAAA,KAAK,EAAE,EAJa;AAKpBC,IAAAA,QAAQ,EAAE;AALU,GAAtB;;AAQA,QAAMC,YAAY,GAAG,MAAOC,MAAP,IAAkB;AACrCC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,MAArB;;AACA,QAAI;AACF,YAAMG,GAAG,GAAG,MAAMC,KAAK,CAAE,qCAAF,EAAwC;AAC7DC,QAAAA,MAAM,EAAE,MADqD;AAE7DC,QAAAA,OAAO,EAAE;AACPC,UAAAA,MAAM,EAAE,kBADD;AAEP,0BAAgB;AAFT,SAFoD;AAM7DC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeV,MAAf;AANuD,OAAxC,CAAvB;;AAQA,UAAI,CAACG,GAAG,CAACQ,EAAT,EAAa;AACX,cAAMR,GAAN;AACD;;AACDF,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBC,GAAnB;;AACA,UAAIA,GAAJ,EAAS;AACPd,QAAAA,QAAQ,CAAE,GAAF,CAAR;AACD;AACF,KAhBD,CAgBE,OAAOuB,GAAP,EAAY;AACZX,MAAAA,OAAO,CAACW,GAAR,CAAYA,GAAZ;AACD;AACF,GArBD;;AAuBA,sBACE;AAAA,2BACE,QAAC,SAAD;AAAW,MAAA,QAAQ,EAAC,IAApB;AAAA,8BACE,QAAC,KAAD;AACE,QAAA,SAAS,EAAC,QADZ;AAEE,QAAA,OAAO,EAAE,CAFX;AAGE,QAAA,EAAE,EAAE;AAAEC,UAAAA,QAAQ,EAAE,UAAZ;AAAwBC,UAAAA,GAAG,EAAE,OAA7B;AAAsCC,UAAAA,UAAU,EAAE;AAAlD,SAHN;AAAA,+BAKE,QAAC,UAAD;AAAY,UAAA,OAAO,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,cADF,eAQE,QAAC,WAAD;AACE,QAAA,aAAa,EAAEtB,aADjB;AAEE,QAAA,YAAY,EAAEM,YAFhB;AAGE,QAAA,UAAU,EAAE;AAHd;AAAA;AAAA;AAAA;AAAA,cARF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAwBD,CAxDD;;KAAMP,U;AA0DN,eAAeA,UAAf","sourcesContent":["import React from \"react\";\nimport { Container, Typography, Stack } from \"@mui/material\";\nimport { navigate } from \"@reach/router\";\n\nimport StudentForm from \"../StudentForm/StudentForm\";\nimport SubjectFormField from \"../StudentForm/SubjectFormField\";\n\nconst NewStudent = () => {\n  const initialValues = {\n    firstName: \"\",\n    lastName: \"\",\n    age: \"\",\n    email: \"\",\n    subjects: [],\n  };\n\n  const handleSubmit = async (values) => {\n    console.log(\"POST:\", values);\n    try {\n      const res = await fetch(`http://localhost:4000/api/students/`, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(values),\n      });\n      if (!res.ok) {\n        throw res;\n      }\n      console.log(\"res\", res);\n      if (res) {\n        navigate(`/`);\n      }\n    } catch (err) {\n      console.err(err);\n    }\n  };\n\n  return (\n    <>\n      <Container maxWidth=\"md\">\n        <Stack\n          direction=\"column\"\n          spacing={2}\n          sx={{ position: \"relative\", top: \"100px\", alignItems: \"center\" }}\n        >\n          <Typography variant=\"h5\">New student</Typography>\n        </Stack>\n        <StudentForm\n          initialValues={initialValues}\n          handleSubmit={handleSubmit}\n          typeOfForm={\"New Student\"}\n        />\n      </Container>\n      {/* <Container>\n        <Stack direction=\"column\" spacing={2} sx={{position: \"relative\", top: \"200px\", alignItems:\"center\"}}>\n        <SubjectFormField />\n            </Stack>\n            \n        </Container> */}\n    </>\n  );\n};\n\nexport default NewStudent;\n"]},"metadata":{},"sourceType":"module"}