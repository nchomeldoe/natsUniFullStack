{"ast":null,"code":"var _jsxFileName = \"/Users/nat/nology/non-coursework/natsUniFullStack/client/src/components/StudentForm/StudentForm.jsx\";\nimport { Formik, Form } from \"formik\";\nimport { Box, Button } from \"@mui/material\";\nimport * as Yup from \"yup\";\nimport React from \"react\";\nimport { navigate } from \"@reach/router\";\nimport FormField from \"./FormField\";\nimport SubjectFormField from \"./SubjectFormField\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst StudentForm = _ref => {\n  let {\n    initialValues,\n    handleSubmit,\n    isExistingStudent,\n    studentId\n  } = _ref;\n  const validationSchema = Yup.object().shape({\n    firstName: Yup.string().required(),\n    lastName: Yup.string().required(),\n    age: Yup.number().required().min(0).max(100),\n    subjects: Yup.array().of(Yup.string()).required().min(1),\n    // subject: Yup.array().required(), ????\n    // https://github.com/jquense/yup\n    email: Yup.string().email().required()\n  });\n\n  const refreshPage = () => {\n    window.location.reload();\n  };\n\n  const deleteStudent = async () => {\n    try {\n      const res = await fetch(`http://localhost:4000/api/students/${studentId}`, {\n        method: \"DELETE\"\n      });\n\n      if (!res.ok) {\n        throw res;\n      } else {\n        navigate(`/`);\n      }\n    } catch (err) {\n      console.err(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: initialValues,\n    onSubmit: handleSubmit,\n    validationSchema: validationSchema,\n    children: _ref2 => {\n      let {\n        isSubmitting\n      } = _ref2;\n      return /*#__PURE__*/_jsxDEV(Form, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            position: \"relative\",\n            top: \"150px\",\n            display: \"flex\",\n            flexDirection: \"column\"\n          },\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(FormField, {\n              name: \"firstName\",\n              label: \"First Name\",\n              helpMessage: \"Please enter first name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormField, {\n              name: \"lastName\",\n              label: \"Last Name\",\n              helpMessage: \"Please enter last name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(FormField, {\n              name: \"age\",\n              label: \"Age\",\n              helpMessage: \"Please enter age as a number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(SubjectFormField, {\n              name: \"subjects\",\n              label: \"Subjects\",\n              helpMessage: \"Please select at least one subject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(FormField, {\n              name: \"email\",\n              label: \"Email\",\n              helpMessage: \"Please enter a valid email address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              sx: {\n                mr: 1,\n                mb: 1\n              },\n              type: \"submit\",\n              disabled: isSubmitting,\n              children: typeOfForm === \"New Student\" ? \"Create\" : \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              onClick: refreshPage,\n              children: \"Reset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), typeOfForm === \"Existing Student\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: deleteStudent,\n              variant: \"outlined\",\n              color: \"error\",\n              sx: {\n                mr: 1\n              },\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n\n_c = StudentForm;\nexport default StudentForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"StudentForm\");","map":{"version":3,"sources":["/Users/nat/nology/non-coursework/natsUniFullStack/client/src/components/StudentForm/StudentForm.jsx"],"names":["Formik","Form","Box","Button","Yup","React","navigate","FormField","SubjectFormField","StudentForm","initialValues","handleSubmit","isExistingStudent","studentId","validationSchema","object","shape","firstName","string","required","lastName","age","number","min","max","subjects","array","of","email","refreshPage","window","location","reload","deleteStudent","res","fetch","method","ok","err","console","isSubmitting","position","top","display","flexDirection","mr","mb","typeOfForm"],"mappings":"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","sourcesContent":["import { Formik, Form } from \"formik\";\nimport { Box, Button } from \"@mui/material\";\nimport * as Yup from \"yup\";\nimport React from \"react\";\nimport { navigate } from \"@reach/router\";\n\nimport FormField from \"./FormField\";\nimport SubjectFormField from \"./SubjectFormField\";\n\nconst StudentForm = ({\n  initialValues,\n  handleSubmit,\n  isExistingStudent,\n  studentId,\n}) => {\n  const validationSchema = Yup.object().shape({\n    firstName: Yup.string().required(),\n    lastName: Yup.string().required(),\n    age: Yup.number().required().min(0).max(100),\n    subjects: Yup.array().of(Yup.string()).required().min(1),\n    // subject: Yup.array().required(), ????\n    // https://github.com/jquense/yup\n    email: Yup.string().email().required(),\n  });\n\n  const refreshPage = () => {\n    window.location.reload();\n  };\n\n  const deleteStudent = async () => {\n    try {\n      const res = await fetch(\n        `http://localhost:4000/api/students/${studentId}`,\n        { method: \"DELETE\" }\n      );\n      if (!res.ok) {\n        throw res;\n      } else {\n        navigate(`/`);\n      }\n    } catch (err) {\n      console.err(err);\n    }\n  };\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      onSubmit={handleSubmit}\n      validationSchema={validationSchema}\n    >\n      {({ isSubmitting }) => (\n        <Form>\n          <Box\n            sx={{\n              position: \"relative\",\n              top: \"150px\",\n              display: \"flex\",\n              flexDirection: \"column\",\n            }}\n            spacing={2}\n          >\n            <div>\n              <FormField\n                name=\"firstName\"\n                label=\"First Name\"\n                helpMessage=\"Please enter first name\"\n              />\n              <FormField\n                name=\"lastName\"\n                label=\"Last Name\"\n                helpMessage=\"Please enter last name\"\n              />\n            </div>\n            <div>\n              <FormField\n                name=\"age\"\n                label=\"Age\"\n                helpMessage=\"Please enter age as a number\"\n              />\n            </div>\n            <div>\n              <SubjectFormField\n                name=\"subjects\"\n                label=\"Subjects\"\n                helpMessage=\"Please select at least one subject\"\n              />\n            </div>\n            <div>\n              <FormField\n                name=\"email\"\n                label=\"Email\"\n                helpMessage=\"Please enter a valid email address\"\n              />\n            </div>\n            <div>\n              <Button\n                variant=\"contained\"\n                sx={{ mr: 1, mb: 1 }}\n                type=\"submit\"\n                disabled={isSubmitting}\n              >\n                {typeOfForm === \"New Student\" ? \"Create\" : \"Update\"}\n              </Button>\n              <Button variant=\"outlined\" onClick={refreshPage}>\n                Reset\n              </Button>\n            </div>\n            {typeOfForm === \"Existing Student\" ? (\n              <div>\n                <Button\n                  onClick={deleteStudent}\n                  variant=\"outlined\"\n                  color=\"error\"\n                  sx={{ mr: 1 }}\n                >\n                  Delete\n                </Button>\n              </div>\n            ) : null}\n          </Box>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default StudentForm;\n"]},"metadata":{},"sourceType":"module"}