{"ast":null,"code":"var _jsxFileName = \"/Users/nat/nology/non-coursework/natsUniFullStack/client/src/components/StudentView/StudentView.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Container, Typography, Stack } from \"@mui/material\";\nimport { useMatch } from \"@reach/router\";\nimport Loader from \"react-loader-spinner\";\nimport { navigate } from \"@reach/router\";\nimport StudentForm from \"../StudentForm/StudentForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst StudentView = () => {\n  _s();\n\n  const {\n    studentId\n  } = useMatch(\"/student/:studentId\");\n  const [student, setStudent] = useState(null);\n  useEffect(() => {\n    const fetchStudentData = async () => {\n      try {\n        const res = await fetch(`http://localhost:4000/api/students/${studentId}`);\n\n        if (!res.ok) {\n          throw res;\n        }\n\n        const data = await res.json();\n        const studentData = data.student;\n        setStudent(studentData);\n      } catch (err) {\n        console.err(err);\n      }\n    };\n\n    fetchStudentData();\n  }, []);\n\n  const handleSubmit = async values => {\n    console.log(\"PATCH:\", values);\n\n    try {\n      const res = await fetch(`http://localhost:4000/api/students/${studentId}`, {\n        method: \"PATCH\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(values)\n      });\n\n      if (!res.ok) {\n        throw res;\n      }\n\n      console.log(\"res\", res);\n\n      if (res) {\n        navigate(`/`);\n      }\n    } catch (err) {\n      console.err(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: student ? /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      children: [/*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"column\",\n        spacing: 2,\n        sx: {\n          position: \"relative\",\n          top: \"100px\",\n          alignItems: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          children: \"Student view\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StudentForm, {\n        initialValues: student,\n        handleSubmit: handleSubmit,\n        typeOfForm: \"Existing Student\",\n        studentId: studentId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      children: /*#__PURE__*/_jsxDEV(Stack, {\n        sx: {\n          position: \"relative\",\n          top: \"100px\",\n          alignItems: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Loader, {\n          type: \"Puff\",\n          color: \"#00BFFF\",\n          height: 100,\n          width: 100,\n          alignItems: \"center\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(StudentView, \"IBO0Xlp4FX9H60CO0SLNEcJNTLw=\", false, function () {\n  return [useMatch];\n});\n\n_c = StudentView;\nexport default StudentView;\n\nvar _c;\n\n$RefreshReg$(_c, \"StudentView\");","map":{"version":3,"sources":["/Users/nat/nology/non-coursework/natsUniFullStack/client/src/components/StudentView/StudentView.jsx"],"names":["React","useEffect","useState","Container","Typography","Stack","useMatch","Loader","navigate","StudentForm","StudentView","studentId","student","setStudent","fetchStudentData","res","fetch","ok","data","json","studentData","err","console","handleSubmit","values","log","method","headers","Accept","body","JSON","stringify","position","top","alignItems"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Container, Typography, Stack } from \"@mui/material\";\nimport { useMatch } from \"@reach/router\";\nimport Loader from \"react-loader-spinner\";\nimport { navigate } from \"@reach/router\";\n\nimport StudentForm from \"../StudentForm/StudentForm\";\n\nconst StudentView = () => {\n  const { studentId } = useMatch(\"/student/:studentId\");\n  const [student, setStudent] = useState(null);\n\n  useEffect(() => {\n    const fetchStudentData = async () => {\n      try {\n        const res = await fetch(\n          `http://localhost:4000/api/students/${studentId}`\n        );\n        if (!res.ok) {\n          throw res;\n        }\n        const data = await res.json();\n        const studentData = data.student;\n        setStudent(studentData);\n      } catch (err) {\n        console.err(err);\n      }\n    };\n    fetchStudentData();\n  }, []);\n\n  const handleSubmit = async (values) => {\n    console.log(\"PATCH:\", values);\n    try {\n      const res = await fetch(\n        `http://localhost:4000/api/students/${studentId}`,\n        {\n          method: \"PATCH\",\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(values),\n        }\n      );\n      if (!res.ok) {\n        throw res;\n      }\n      console.log(\"res\", res);\n      if (res) {\n        navigate(`/`);\n      }\n    } catch (err) {\n      console.err(err);\n    }\n  };\n\n  return (\n    <>\n      {student ? (\n        <Container maxWidth=\"md\">\n          <Stack\n            direction=\"column\"\n            spacing={2}\n            sx={{ position: \"relative\", top: \"100px\", alignItems: \"center\" }}\n          >\n            <Typography variant=\"h5\">Student view</Typography>\n          </Stack>\n          <StudentForm\n            initialValues={student}\n            handleSubmit={handleSubmit}\n            typeOfForm={\"Existing Student\"}\n            studentId={studentId}\n          />\n        </Container>\n      ) : (\n        <Container maxWidth=\"md\">\n          <Stack\n            sx={{ position: \"relative\", top: \"100px\", alignItems: \"center\" }}\n          >\n            <Loader\n              type=\"Puff\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n              alignItems=\"center\"\n            />\n          </Stack>\n        </Container>\n      )}\n    </>\n  );\n};\n\nexport default StudentView;\n"]},"metadata":{},"sourceType":"module"}